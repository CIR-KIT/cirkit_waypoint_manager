# waypoint_generator
This package generate waypoints for 2D navigation by using /map and /odom, or /amcl_pose.

## How to use
- You can add waypoint ...
  * by clicking a point in `Rviz`
  * by a ROBOT's exploring with `amcl` running, which adds a waypoint at every `dist_th` meters proceeding.
- Tips
  - You can see the pose (angular-z) of waypoints under conditions that `tf`s show up in `Rviz` and set `scale` to around 10. 
  - You can tune the pose of a waypoint by dragging a circle around the box (stands for the specified waypoint), which is still unstable though...

### required
- `/amcl_pose` generated by amcl.

### run

#### generate waypoint

```bash
$ rosrun waypoint_generator waypoint_generator
```
If you have already had waypoints file as point.csv,  
```bash
$ rosrun waypoint_generator waypoint_generator --load path/to/point.csv
```
The waypoint file format is below.
```
x, y, z, qx, qy, qz, qw, is_searching_area, reach_threshold
```
#### save waypoint
```bash
$ rosrun waypoint_generator waypoint_saver
```

### modify_waypoint
If the waypoint area is searching area, the you can make last colum `1`.  
If you set it correct, the marker color will be yellow.  
The normal color is green.  

### parameters
- `dist_th` : threshold of distance for adding new waypoint
- `yaw_th` : threshold of yaw angle[rad] for adding new waypoint

### check waypoints
If you want to check the waypoints,
```bash
rosrun waypoint_generator waypoint_server --load path/to/waypoints.csv
```
